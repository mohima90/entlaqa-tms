"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{2895:function(e,t,s){s.d(t,{WR:function(){return i},_6:function(){return o},d:function(){return d}});var l=s(57437),a=s(37440),r=s(97589),n=s(50993);function i(e){let{source:t,showLabel:s=!0,size:i="md",className:o}=e,d={sm:"px-1.5 py-0.5 text-[10px] gap-1",md:"px-2.5 py-1 text-xs gap-1.5",lg:"px-3 py-1.5 text-sm gap-2"},c={sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"};return"offline"===t?(0,l.jsxs)("span",{className:(0,a.cn)("inline-flex items-center rounded-full font-medium","bg-source-offline-light text-source-offline-dark border border-source-offline-border",d[i],o),children:[(0,l.jsx)(r.Z,{className:c[i]}),s&&(0,l.jsx)("span",{children:"Offline"})]}):(0,l.jsxs)("span",{className:(0,a.cn)("inline-flex items-center rounded-full font-medium","bg-source-lms-light text-source-lms-dark border border-source-lms-border",d[i],o),children:[(0,l.jsx)(n.Z,{className:c[i]}),s&&(0,l.jsx)("span",{children:"LMS"})]})}function o(e){let{source:t,size:s="md",pulse:r=!1,className:n}=e;return(0,l.jsx)("span",{className:(0,a.cn)("inline-block rounded-full","offline"===t?"bg-source-offline":"bg-source-lms",{sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-2.5 h-2.5"}[s],r&&"animate-pulse",n),title:"offline"===t?"Offline Record":"LMS Record"})}function d(e){let{value:t,onChange:s,counts:r,className:n}=e;return(0,l.jsxs)("div",{className:(0,a.cn)("inline-flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl",n),children:[(0,l.jsxs)("button",{onClick:()=>s("all"),className:(0,a.cn)("px-3 py-1.5 rounded-lg text-sm font-medium transition-all","all"===t?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"),children:["All ",r&&(0,l.jsxs)("span",{className:"ml-1 text-slate-400",children:["(",r.all,")"]})]}),(0,l.jsxs)("button",{onClick:()=>s("offline"),className:(0,a.cn)("px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5","offline"===t?"bg-white dark:bg-slate-700 text-source-offline-dark shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"),children:[(0,l.jsx)(o,{source:"offline",size:"sm"}),"Offline ",r&&(0,l.jsxs)("span",{className:"text-slate-400",children:["(",r.offline,")"]})]}),(0,l.jsxs)("button",{onClick:()=>s("lms"),className:(0,a.cn)("px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5","lms"===t?"bg-white dark:bg-slate-700 text-source-lms-dark shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"),children:[(0,l.jsx)(o,{source:"lms",size:"sm"}),"LMS ",r&&(0,l.jsxs)("span",{className:"text-slate-400",children:["(",r.lms,")"]})]})]})}},17886:function(e,t,s){s.d(t,{Z:function(){return f}});var l=s(57437),a=s(2265),r=s(34446),n=s(21513),i=s(54817),o=s(14392),d=s(42421),c=s(63550),x=s(70518),m=s(87592),h=s(37440),u=s(2895);function f(e){let{data:t,columns:s,searchable:f=!0,searchPlaceholder:p="Search...",searchKeys:b=[],showSourceFilter:g=!0,getSourceFn:k,onRowClick:j,actions:w,emptyState:N,headerActions:v,pageSize:y=10,className:C}=e,[S,M]=(0,a.useState)(""),[Z,L]=(0,a.useState)("all"),[_,E]=(0,a.useState)(null),[q,z]=(0,a.useState)("asc"),[A,O]=(0,a.useState)(1),[R,P]=(0,a.useState)(null),T=(0,a.useMemo)(()=>{let e=[...t];if(S&&b.length>0){let t=S.toLowerCase();e=e.filter(e=>b.some(s=>{let l=e[s];return l&&String(l).toLowerCase().includes(t)}))}return"all"!==Z&&k&&(e=e.filter(e=>k(e)===Z)),_&&e.sort((e,t)=>{let s=e[_],l=t[_];return s<l?"asc"===q?-1:1:s>l?"asc"===q?1:-1:0}),e},[t,S,b,Z,k,_,q]),W=Math.ceil(T.length/y),B=T.slice((A-1)*y,A*y),D=(0,a.useMemo)(()=>k?{all:t.length,offline:t.filter(e=>"offline"===k(e)).length,lms:t.filter(e=>"lms"===k(e)).length}:{all:t.length,offline:0,lms:0},[t,k]),F=e=>{_===e?z("asc"===q?"desc":"asc"):(E(e),z("asc"))};return(0,l.jsxs)("div",{className:(0,h.cn)("bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",C),children:[(0,l.jsx)("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f&&(0,l.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,l.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,l.jsx)("input",{type:"text",placeholder:p,value:S,onChange:e=>{M(e.target.value),O(1)},className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-entlaqa-500/20 focus:border-entlaqa-500"})]}),g&&k&&(0,l.jsx)(u.d,{value:Z,onChange:e=>{L(e),O(1)},counts:D})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:v})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:(0,l.jsxs)("tr",{children:[s.map(e=>(0,l.jsx)("th",{className:(0,h.cn)("px-4 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",e.sortable&&"cursor-pointer hover:text-slate-700 dark:hover:text-slate-200"),style:{width:e.width},onClick:()=>e.sortable&&F(e.key),children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[e.header,e.sortable&&_===e.key&&("asc"===q?(0,l.jsx)(o.Z,{className:"w-4 h-4"}):(0,l.jsx)(d.Z,{className:"w-4 h-4"}))]})},e.key)),w&&w.length>0&&(0,l.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider w-20",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:(0,l.jsx)(r.M,{mode:"popLayout",children:B.length>0?B.map((e,t)=>(0,l.jsxs)(n.E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.02*t},onClick:()=>null==j?void 0:j(e),className:(0,h.cn)("hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",j&&"cursor-pointer"),children:[s.map(t=>(0,l.jsx)("td",{className:"px-4 py-4 text-sm text-slate-700 dark:text-slate-300",children:t.render?t.render(e):e[t.key]},t.key)),w&&w.length>0&&(0,l.jsxs)("td",{className:"px-4 py-4 text-right relative",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),P(R===e.id?null:e.id)},className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:(0,l.jsx)(c.Z,{className:"w-4 h-4 text-slate-500"})}),(0,l.jsx)(r.M,{children:R===e.id&&(0,l.jsx)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-4 top-full mt-1 w-40 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden z-10",children:w.map((t,s)=>(0,l.jsxs)("button",{onClick:s=>{s.stopPropagation(),t.onClick(e),P(null)},className:(0,h.cn)("w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors","danger"===t.variant&&"text-red-600 dark:text-red-400"),children:[t.icon,t.label]},s))})})]})]},e.id)):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:s.length+(w?1:0),className:"px-4 py-12",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:(null==N?void 0:N.title)||"No results found"}),(0,l.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:(null==N?void 0:N.description)||"Try adjusting your search or filters"}),(null==N?void 0:N.action)&&(0,l.jsx)("button",{onClick:N.action.onClick,className:"mt-4 btn-primary",children:N.action.label})]})})})})})]})}),W>1&&(0,l.jsxs)("div",{className:"px-4 py-3 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[(0,l.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",(A-1)*y+1," to ",Math.min(A*y,T.length)," of ",T.length," results"]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>O(A-1),disabled:1===A,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(x.Z,{className:"w-4 h-4"})}),Array.from({length:Math.min(5,W)},(e,t)=>{let s;return s=W<=5?t+1:A<=3?t+1:A>=W-2?W-4+t:A-2+t,(0,l.jsx)("button",{onClick:()=>O(s),className:(0,h.cn)("w-8 h-8 rounded-lg text-sm font-medium transition-colors",A===s?"bg-entlaqa-600 text-white":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400"),children:s},s)}),(0,l.jsx)("button",{onClick:()=>O(A+1),disabled:A===W,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(m.Z,{className:"w-4 h-4"})})]})]})]})}}}]);